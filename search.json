[{"path":"https://coeneisma.github.io/pdftextclusteR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 pdftextclusteR authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/articles/pdftextclusteR.html","id":"loading-packages","dir":"Articles","previous_headings":"","what":"Loading Packages","title":"pdftextclusteR: detect text clusters in PDF","text":"","code":"library(pdftools) #> Using poppler version 24.02.0 library(pdftextclusteR)"},{"path":"https://coeneisma.github.io/pdftextclusteR/articles/pdftextclusteR.html","id":"loading-data","dir":"Articles","previous_headings":"","what":"Loading Data","title":"pdftextclusteR: detect text clusters in PDF","text":"Data loaded using pdftools::pdf_data() function. result list object tibble page containing data. metadata first 5 words page 7 , example:","code":"#' Reading a PDF document with `pdftools` ka <- pdf_data(\"https://www.rijksoverheid.nl/binaries/rijksoverheid/documenten/rapporten/2024/06/10/kwaliteitsagenda-2024-2027-mediacollege-amsterdam/Kwaliteitsagenda+2024-2027+Mediacollege+Amsterdam.pdf\") head(ka[[7]], 5) #>   width height   x   y space          text #> 1    76     22  28  52 FALSE     Inleiding #> 2    26     14  28 119  TRUE          Waar #> 3    29     14  56 119  TRUE        liggen #> 4    11     14  89 119  TRUE            de #> 5    63     14 103 119  TRUE belangrijkste"},{"path":"https://coeneisma.github.io/pdftextclusteR/articles/pdftextclusteR.html","id":"detecting-text-clusters","dir":"Articles","previous_headings":"","what":"Detecting text clusters","title":"pdftextclusteR: detect text clusters in PDF","text":"Clusters - usually columns text boxes - detected pdf_detect_clusters() function.","code":"ka_clusters <- ka[[7]] |>    pdf_detect_clusters() #> Error in get(paste0(generic, \".\", class), envir = get_method_env()) :  #>   object 'type_sum.accel' not found  head(ka_clusters, 5) #> # A tibble: 5 × 8 #>   width height     x     y space text          .cluster noise #>   <int>  <int> <int> <int> <lgl> <chr>         <fct>    <lgl> #> 1    76     22    28    52 FALSE Inleiding     0        TRUE  #> 2    26     14    28   119 TRUE  Waar          1        FALSE #> 3    29     14    56   119 TRUE  liggen        1        FALSE #> 4    11     14    89   119 TRUE  de            1        FALSE #> 5    63     14   103   119 TRUE  belangrijkste 1        FALSE"},{"path":"https://coeneisma.github.io/pdftextclusteR/articles/pdftextclusteR.html","id":"plotting-the-clusters","dir":"Articles","previous_headings":"","what":"Plotting the Clusters","title":"pdftextclusteR: detect text clusters in PDF","text":"Using pdf_plot_clusters() function, can create visual representation detected clusters:  compare source PDF page, can see package clustered text quite accurately case:","code":"ka_clusters |>    pdf_plot_clusters()"},{"path":"https://coeneisma.github.io/pdftextclusteR/articles/pdftextclusteR.html","id":"extract-text-from-clusters","dir":"Articles","previous_headings":"","what":"Extract text from clusters","title":"pdftextclusteR: detect text clusters in PDF","text":"text detected clusters can extracted pdf_extract_clusters(). text first 5 clusters :","code":"ka_clusters_text <- ka[[7]] |>    pdf_detect_clusters() |>    pdf_extract_clusters() head(ka_clusters_text, 5) #> # A tibble: 5 × 3 #>   .cluster word_count text                                                       #>   <fct>         <int> <chr>                                                      #> 1 0                 2 \"Inleiding\\n 7\\n\"                                          #> 2 1                89 \"Waar liggen de belangrijkste ontwikkelopgaven voor onze … #> 3 2                89 \"Met deze Kwaliteitsagenda 2024-2027 wil MA haar\\n ambiti… #> 4 3                 3 \"Kwaliteitsagenda 2024-2027\\n\"                             #> 5 4                63 \"We bouwen voort op de doelstellingen uit de\\n Kwaliteits…"},{"path":"https://coeneisma.github.io/pdftextclusteR/articles/pdftextclusteR.html","id":"different-algorithms","dir":"Articles","previous_headings":"","what":"Different algorithms","title":"pdftextclusteR: detect text clusters in PDF","text":"dbscan package used detect clusters. package supports four different algorithms: dbscan jpclust sNNclust hdbscan default, dbscan algorithm used provides good results. However, user, can also choose one algorithms. example clustering page using sNNclust algorithm:","code":"ka[[7]] |>    pdf_detect_clusters(algorithm = \"sNNclust\") |>    pdf_plot_clusters()"},{"path":"https://coeneisma.github.io/pdftextclusteR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Coen Eisma. Author, maintainer.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Eisma C (2024). pdftextclusteR: Detecting Text Clusters PDF Documents Using Density-Based Clustering Algorithms. R package version 0.0.0.9007, https://github.com/coeneisma/pdftextclusteR, https://coeneisma.github.io/pdftextclusteR/.","code":"@Manual{,   title = {pdftextclusteR: Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms},   author = {Coen Eisma},   year = {2024},   note = {R package version 0.0.0.9007, https://github.com/coeneisma/pdftextclusteR},   url = {https://coeneisma.github.io/pdftextclusteR/}, }"},{"path":"https://coeneisma.github.io/pdftextclusteR/index.html","id":"pdftextcluster-","dir":"","previous_headings":"","what":"Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms","title":"Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms","text":"pdftools package available importing PDF files. However, package work optimally importing PDF files multiple columns text boxes. Since pdftools::pdf_text() function pdftools package processes text line line, often fails maintain context text. result, output may contain sentences unrelated fragments text different parts page. Words placed correct context unsuitable text analysis. However, words grouped clusters package using Density-Based Spatial Clustering algorithm likely contextually related thus suitable text analysis. package directly utilizes clustering algorithms implemented dbscan package. See vignette(\"pdftextclusteR\") information usage package.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms","text":"can install current version pdftextclusteR using following code. latest version can found development branch. can install using function:","code":"devtools::install_github(\"coeneisma/pdftextclusteR\") devtools::install_github(\"coeneisma/pdftextclusteR\")   ref = \"development\")"},{"path":"https://coeneisma.github.io/pdftextclusteR/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms","text":"basic example capabilities package.  Compared orriginal document quite acurate. Text can extracted analysis:","code":"library(pdftextclusteR) library(pdftools)  # Read a PDF-file with pdftools::pdf_data() ka <- pdf_data(\"https://www.rijksoverheid.nl/binaries/rijksoverheid/documenten/rapporten/2024/06/10/kwaliteitsagenda-2024-2027-mediacollege-amsterdam/Kwaliteitsagenda+2024-2027+Mediacollege+Amsterdam.pdf\")  # Detect clusters on the 7th page ka_clusters <- ka[[7]] |>    pdf_detect_clusters()  # Plot clusters on the first page ka_clusters |>    pdf_plot_clusters() ka_clusters_text <- ka_clusters |>    pdf_extract_clusters()  ka_clusters_text #> # A tibble: 7 × 3 #>   .cluster word_count text                                                       #>   <fct>         <int> <chr>                                                      #> 1 0                 2 \"Inleiding\\n 7\\n\"                                          #> 2 1                89 \"Waar liggen de belangrijkste ontwikkelopgaven voor onze … #> 3 2                89 \"Met deze Kwaliteitsagenda 2024-2027 wil MA haar\\n ambiti… #> 4 3                 3 \"Kwaliteitsagenda 2024-2027\\n\"                             #> 5 4                63 \"We bouwen voort op de doelstellingen uit de\\n Kwaliteits… #> 6 5                53 \"De strategie en daarmee de prioriteiten voor de MA\\n Kwa… #> 7 6                93 \"Ook het werkveld is binnen verschillende overleggen\\n en…"},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/cibap.html","id":null,"dir":"Reference","previous_headings":"","what":"CIBAP Report — cibap","title":"CIBAP Report — cibap","text":"dataset result reading report Kwaliteitsagenda 2024-2027 Cibap, posted Rijksoverheid website September 16, 2024.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/cibap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"CIBAP Report — cibap","text":"","code":"cibap"},{"path":[]},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/cibap.html","id":"cibap","dir":"Reference","previous_headings":"","what":"cibap","title":"CIBAP Report — cibap","text":"large list object 73 elements. element contains tibble 6 columns one record word page. width, height Width height word x, y x y coordinates word. x-coordinate measured top. space Indicates whether space word. indicates line break. text word metadata refers .","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/cibap.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"CIBAP Report — cibap","text":"https://www.rijksoverheid.nl/documenten/rapporten/2024/09/16/kwaliteitsagenda-2024-2027-cibap","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/cibap.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"CIBAP Report — cibap","text":"document chosen contains several pages columns different layouts.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/npo.html","id":null,"dir":"Reference","previous_headings":"","what":"NPO Report — npo","title":"NPO Report — npo","text":"dataset result reading report NPO Terugblik 2023, posted Rijksoverheid website November 20, 2024, annex Media Budget 2025.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/npo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NPO Report — npo","text":"","code":"npo"},{"path":[]},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/npo.html","id":"npo","dir":"Reference","previous_headings":"","what":"npo","title":"NPO Report — npo","text":"large list object 73 elements. element contains tibble 6 columns one record word page. width, height Width height word x, y x y coordinates word. x-coordinate measured top. space Indicates whether space word. indicates line break. text word metadata refers .","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/npo.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"NPO Report — npo","text":"https://www.rijksoverheid.nl/documenten/rapporten/2024/11/20/bijlage-3-npo-terugblik-2023","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/npo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"NPO Report — npo","text":"document chosen contains several pages columns different layouts.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_detect_clusters.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect Columns and Text Boxes in PDF Document — pdf_detect_clusters","title":"Detect Columns and Text Boxes in PDF Document — pdf_detect_clusters","text":"function detects columns text boxes PDF file. , first need read file using pdftools::pdf_data()-function pdftools package. function works list pages, returned pdftools::pdf_data() function, individual pages extracted list. makes flexible use either entire document specific pages within . package directly utilizes clustering algorithms implemented dbscan package. stats::dist() object created.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_detect_clusters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect Columns and Text Boxes in PDF Document — pdf_detect_clusters","text":"","code":"pdf_detect_clusters(pdf_data, algorithm = \"dbscan\", ...)"},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_detect_clusters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect Columns and Text Boxes in PDF Document — pdf_detect_clusters","text":"pdf_data result pdftools::pdf_data()-function page result. algorithm algorithm used detect text columns text boxes ... algorithm-specific arguments. See dbscan::dbscan(), dbscan::jpclust(), dbscan::sNNclust() dbscan::hdbscan() information","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_detect_clusters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect Columns and Text Boxes in PDF Document — pdf_detect_clusters","text":"input list pages, list-object returned, page contains tibble word assigned cluster. input single page, tibble returned directly, word assigned cluster.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_detect_clusters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect Columns and Text Boxes in PDF Document — pdf_detect_clusters","text":"","code":"# First 3 pages head(npo, 3) |>    pdf_detect_clusters() #> [[1]] #> # A tibble: 7 × 8 #>   width height     x     y space text      .cluster noise #>   <int>  <int> <int> <int> <lgl> <chr>     <fct>    <lgl> #> 1   693    184    85   748 TRUE  Terugblik 0        TRUE  #> 2   362    184   814   748 FALSE 2023      0        TRUE  #> 3    65     18    84  1029 TRUE  Terugblik 1        FALSE #> 4    34     18   154  1029 FALSE 2023      1        FALSE #> 5    28     18   530  1029 TRUE  Ons       2        FALSE #> 6    54     18   562  1029 FALSE verhaal   2        FALSE #> 7    13     18  1821  1029 FALSE 12        0        TRUE  #>  #> [[2]] #> # A tibble: 242 × 8 #>    width height     x     y space text       .cluster noise #>    <int>  <int> <int> <int> <lgl> <chr>      <fct>    <lgl> #>  1    41     14    85    36 FALSE Inhoud     0        TRUE  #>  2    56     14   197    36 FALSE Uitgelicht 0        TRUE  #>  3    62     14   322    36 FALSE Verdieping 0        TRUE  #>  4    46     14   458    36 FALSE Bijlagen   0        TRUE  #>  5   246     59    85   100 FALSE Leeswijzer 1        FALSE #>  6    24     22    84   187 TRUE  De         1        FALSE #>  7    83     22   112   187 TRUE  Terugblik  1        FALSE #>  8    13     22   199   187 TRUE  is         1        FALSE #>  9    22     22   217   187 TRUE  de         1        FALSE #> 10    81     22   245   187 TRUE  jaarlijkse 1        FALSE #> # ℹ 232 more rows #>  #> [[3]] #> # A tibble: 226 × 8 #>    width height     x     y space text        .cluster noise #>    <int>  <int> <int> <int> <lgl> <chr>       <fct>    <lgl> #>  1    40     14    85    36 FALSE Inhoud      0        TRUE  #>  2    58     14   197    36 FALSE Uitgelicht  0        TRUE  #>  3    62     14   322    36 FALSE Verdieping  0        TRUE  #>  4    46     14   458    36 FALSE Bijlagen    0        TRUE  #>  5   559    110    85    91 FALSE Voortdurend 1        FALSE #>  6    81    110    85   176 TRUE  in          1        FALSE #>  7   480    110   186   176 FALSE verbinding  1        FALSE #>  8    16     22    84   310 TRUE  In          1        FALSE #>  9    32     22   105   310 TRUE  een         1        FALSE #> 10   112     22   141   310 TRUE  samenleving 1        FALSE #> # ℹ 216 more rows #>   # 3th page with sNNclust algorithm with minPts = 5 npo[[3]] |>    pdf_detect_clusters(algorithm = \"sNNclust\", minPts = 5) #> # A tibble: 226 × 8 #>    width height     x     y space text        .cluster noise #>    <int>  <int> <int> <int> <lgl> <chr>       <fct>    <lgl> #>  1    40     14    85    36 FALSE Inhoud      0        TRUE  #>  2    58     14   197    36 FALSE Uitgelicht  0        TRUE  #>  3    62     14   322    36 FALSE Verdieping  0        TRUE  #>  4    46     14   458    36 FALSE Bijlagen    0        TRUE  #>  5   559    110    85    91 FALSE Voortdurend 1        FALSE #>  6    81    110    85   176 TRUE  in          1        FALSE #>  7   480    110   186   176 FALSE verbinding  1        FALSE #>  8    16     22    84   310 TRUE  In          1        FALSE #>  9    32     22   105   310 TRUE  een         1        FALSE #> 10   112     22   141   310 TRUE  samenleving 1        FALSE #> # ℹ 216 more rows"},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_extract_clusters.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract the Text Per Cluster from the pdf_detect_clusters() object — pdf_extract_clusters","title":"Extract the Text Per Cluster from the pdf_detect_clusters() object — pdf_extract_clusters","text":"end user, mainly want work text different detected text clusters. function combines text cluster character string places Tibble. word count added per cluster.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_extract_clusters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract the Text Per Cluster from the pdf_detect_clusters() object — pdf_extract_clusters","text":"","code":"pdf_extract_clusters(pdf_data)"},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_extract_clusters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract the Text Per Cluster from the pdf_detect_clusters() object — pdf_extract_clusters","text":"pdf_data result pdf_detect_clusters()-function page result","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_extract_clusters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract the Text Per Cluster from the pdf_detect_clusters() object — pdf_extract_clusters","text":"input list tibbles, list-object returned, element tibble containing text extracted cluster page. input single tibble, tibble returned directly, containing text extracted cluster page, including word count per cluster.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_extract_clusters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract the Text Per Cluster from the pdf_detect_clusters() object — pdf_extract_clusters","text":"","code":"npo[[1]] |>    pdf_detect_clusters() |>    pdf_extract_clusters() #> # A tibble: 3 × 3 #>   .cluster word_count text                    #>   <fct>         <int> <chr>                   #> 1 0                 3 \"Terugblik 2023\\n 12\\n\" #> 2 1                 2 \"Terugblik 2023\\n\"      #> 3 2                 2 \"Ons verhaal\\n\""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_plot_clusters.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the pdf_detect_clusters() Object — pdf_plot_clusters","title":"Plot the pdf_detect_clusters() Object — pdf_plot_clusters","text":"function plots page clusters detected using pdf_detect_clusters() function. cluster assigned unique color number, making easy visually detect compare original PDF.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_plot_clusters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the pdf_detect_clusters() Object — pdf_plot_clusters","text":"","code":"pdf_plot_clusters(pdf_data_page_clusters)"},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_plot_clusters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the pdf_detect_clusters() Object — pdf_plot_clusters","text":"pdf_data_page_clusters single list-item result pdf_detect_clusters()","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_plot_clusters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the pdf_detect_clusters() Object — pdf_plot_clusters","text":"ggplot2 rectangle plot.","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdf_plot_clusters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the pdf_detect_clusters() Object — pdf_plot_clusters","text":"","code":"npo[[12]] |>   pdf_detect_clusters() |>   pdf_plot_clusters()"},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdftextclusteR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"pdftextclusteR: Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms — pdftextclusteR-package","title":"pdftextclusteR: Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms — pdftextclusteR-package","text":"Detect extract text clusters, columns text boxes, PDF documents. Utilizes 'pdftools' package PDF import applies density-based clustering algorithms 'dbscan' package accurately group related text elements, facilitating improved text analysis extraction complex PDF layouts.","code":""},{"path":[]},{"path":"https://coeneisma.github.io/pdftextclusteR/reference/pdftextclusteR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"pdftextclusteR: Detecting Text Clusters in PDF Documents Using Density-Based Clustering Algorithms — pdftextclusteR-package","text":"Maintainer: Coen Eisma coeneisma@gmail.com (ORCID)","code":""},{"path":"https://coeneisma.github.io/pdftextclusteR/news/index.html","id":"pdftextcluster-development-version","dir":"Changelog","previous_headings":"","what":"pdftextclusteR (development version)","title":"pdftextclusteR (development version)","text":"functions implemented. Project pkgdown-website deployd.","code":""}]
